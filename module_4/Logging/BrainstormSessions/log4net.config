<log4net>
    <appender name="Console" type="log4net.Appender.ConsoleAppender">
        <layout type="log4net.Layout.PatternLayout">
            <!-- Pattern to output the caller's file name and line number -->
            <header value="Time,Thread,Level,Logger,Message&#13;&#10;" />
            <conversionPattern value="%date{dd-MMM-yyyy HH:mm:ss},%thread,%-5level,%logger,%message%newline" />
        </layout>
    </appender>
    <appender name="RollingFile" type="log4net.Appender.RollingFileAppender">
        <file value="example.log" />
        <appendToFile value="true" />
        <maximumFileSize value="100KB" />
        <maxSizeRollBackups value="2" />
        <layout type="log4net.Layout.PatternLayout">
            <header value="Time,Thread,Level,Logger,Message&#13;&#10;" />
            <conversionPattern value="%date{dd-MMM-yyyy HH:mm:ss},%thread,%-5level,%logger,%message%newline" />
        </layout>
    </appender>
    <appender name="TraceAppender" type="log4net.Appender.TraceAppender">
        <layout type="log4net.Layout.PatternLayout">
            <header value="Time,Thread,Level,Logger,Message&#13;&#10;" />
            <conversionPattern value="%date{dd-MMM-yyyy HH:mm:ss},%thread,%-5level,%logger,%message%newline" />
        </layout>
    </appender>
    <appender name="ConsoleAppender" type="log4net.Appender.ManagedColoredConsoleAppender">
        <mapping>
            <level value="ERROR" />
            <foreColor value="Red" />
        </mapping>
        <mapping>
            <level value="WARN" />
            <foreColor value="Yellow" />
        </mapping>
        <mapping>
            <level value="INFO" />
            <foreColor value="White" />
        </mapping>
        <mapping>
            <level value="DEBUG" />
            <foreColor value="Green" />
        </mapping>
        <layout type="log4net.Layout.PatternLayout">
            <header value="Time,Thread,Level,Logger,Message&#13;&#10;" />
            <conversionPattern value="%date{dd-MMM-yyyy HH:mm:ss},%thread,%-5level,%logger,%message%newline" />
        </layout>
    </appender>

    <appender name="SmtpAppender" type="log4net.Appender.SmtpAppender,log4net">
        <threshold value="ERROR" />
        <to value="..." />
        <from value="..." />
        <subject value="log4net err msg" />
        <smtpHost value="smtp.gmail.com" />
        <port value="587"/>
        <authentication value="Basic" />
        <username value="..."/>
        <password value="..."/>
        <EnableSsl value="true" />
        <bufferSize value="1" />
        <lossy value="true" />
        <layout type="log4net.Layout.PatternLayout,log4net">
            <conversionPattern value="%date{dd-MMM-yyyy HH:mm:ss},%thread,%-5level,%logger,%message%newline" />
        </layout>
      </appender>
    <root>
        <level value="TRACE" />
        <appender-ref ref="RollingFile" />
        <appender-ref ref="TraceAppender" />
        <appender-ref ref="ConsoleAppender" />
        <appender-ref ref="SmtpAppender" />
    </root>
</log4net>