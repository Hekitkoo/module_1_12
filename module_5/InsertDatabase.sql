USE [SqlModule];

/* Data from xml*/

INSERT INTO [dbo].[Warehouse] VALUES
(N'New York',N'New York'),
(N'Los Angeles',N'California'),
(N'Chicago',N'Illinois'),
(N'Houston',N'Texas'),
(N'Philadelphia',N'Pennsylvania'),
(N'Phoenix',N'Arizona'),
(N'San Antonio',N'Texas'),
(N'San Diego',N'California'),
(N'Dallas',N'Texas'),
(N'San Jose',N'California'),
(N'Austin',N'Texas'),
(N'Indianapolis',N'Indiana'),
(N'Jacksonville',N'Florida'),
(N'San Francisco',N'California'),
(N'Columbus',N'Ohio'),
(N'Charlotte',N'North Carolina'),
(N'Fort Worth',N'Texas'),
(N'Detroit',N'Michigan'),
(N'El Paso',N'Texas'),
(N'Memphis',N'Tennessee'),
(N'Seattle',N'Washington'),
(N'Denver',N'Colorado'),
(N'Washington',N'District of Columbia'),
(N'Boston',N'Massachusetts'),
(N'Nashville',N'Tennessee'),
(N'Baltimore',N'Maryland'),
(N'Oklahoma City',N'Oklahoma'),
(N'Louisville',N'Kentucky'),
(N'Portland',N'Oregon'),
(N'Las Vegas',N'Nevada'),
(N'Milwaukee',N'Wisconsin'),
(N'Albuquerque',N'New Mexico'),
(N'Tucson',N'Arizona'),
(N'Fresno',N'California'),
(N'Sacramento',N'California'),
(N'Long Beach',N'California'),
(N'Kansas City',N'Missouri'),
(N'Mesa',N'Arizona'),
(N'Virginia Beach',N'Virginia'),
(N'Atlanta',N'Georgia'),
(N'Colorado Springs',N'Colorado'),
(N'Omaha',N'Nebraska'),
(N'Raleigh',N'North Carolina'),
(N'Miami',N'Florida'),
(N'Oakland',N'California'),
(N'Minneapolis',N'Minnesota'),
(N'Tulsa',N'Oklahoma'),
(N'Cleveland',N'Ohio'),
(N'Wichita',N'Kansas'),
(N'Arlington',N'Texas'),
(N'New Orleans',N'Louisiana'),
(N'Bakersfield',N'California'),
(N'Tampa',N'Florida'),
(N'Honolulu',N'Hawai''i'),
(N'Aurora',N'Colorado'),
(N'Anaheim',N'California'),
(N'Santa Ana',N'California'),
(N'St. Louis',N'Missouri'),
(N'Riverside',N'California'),
(N'Corpus Christi',N'Texas'),
(N'Lexington',N'Kentucky'),
(N'Pittsburgh',N'Pennsylvania'),
(N'Anchorage',N'Alaska'),
(N'Stockton',N'California'),
(N'Cincinnati',N'Ohio'),
(N'Saint Paul',N'Minnesota'),
(N'Toledo',N'Ohio'),
(N'Greensboro',N'North Carolina'),
(N'Newark',N'New Jersey'),
(N'Plano',N'Texas'),
(N'Henderson',N'Nevada'),
(N'Lincoln',N'Nebraska'),
(N'Buffalo',N'New York'),
(N'Jersey City',N'New Jersey'),
(N'Chula Vista',N'California'),
(N'Fort Wayne',N'Indiana'),
(N'Orlando',N'Florida'),
(N'St. Petersburg',N'Florida'),
(N'Chandler',N'Arizona'),
(N'Laredo',N'Texas'),
(N'Norfolk',N'Virginia'),
(N'Durham',N'North Carolina'),
(N'Madison',N'Wisconsin'),
(N'Lubbock',N'Texas'),
(N'Irvine',N'California'),
(N'Winston–Salem',N'North Carolina'),
(N'Glendale',N'Arizona'),
(N'Garland',N'Texas'),
(N'Hialeah',N'Florida'),
(N'Reno',N'Nevada'),
(N'Chesapeake',N'Virginia'),
(N'Gilbert',N'Arizona'),
(N'Baton Rouge',N'Louisiana'),
(N'Irving',N'Texas'),
(N'Scottsdale',N'Arizona'),
(N'North Las Vegas',N'Nevada'),
(N'Fremont',N'California'),
(N'Boise',N'Idaho'),
(N'Richmond',N'Virginia'),
(N'San Bernardino',N'California'),
(N'Birmingham',N'Alabama'),
(N'Spokane',N'Washington'),
(N'Rochester',N'New York'),
(N'Des Moines',N'Iowa'),
(N'Modesto',N'California'),
(N'Fayetteville',N'North Carolina'),
(N'Tacoma',N'Washington'),
(N'Oxnard',N'California'),
(N'Fontana',N'California'),
(N'Columbus',N'Georgia'),
(N'Montgomery',N'Alabama'),
(N'Moreno Valley',N'California'),
(N'Shreveport',N'Louisiana'),
(N'Aurora',N'Illinois'),
(N'Yonkers',N'New York'),
(N'Akron',N'Ohio'),
(N'Huntington Beach',N'California'),
(N'Little Rock',N'Arkansas'),
(N'Augusta',N'Georgia'),
(N'Amarillo',N'Texas'),
(N'Glendale',N'California'),
(N'Mobile',N'Alabama'),
(N'Grand Rapids',N'Michigan'),
(N'Salt Lake City',N'Utah'),
(N'Tallahassee',N'Florida'),
(N'Huntsville',N'Alabama'),
(N'Grand Prairie',N'Texas'),
(N'Knoxville',N'Tennessee'),
(N'Worcester',N'Massachusetts'),
(N'Newport News',N'Virginia'),
(N'Brownsville',N'Texas'),
(N'Overland Park',N'Kansas'),
(N'Santa Clarita',N'California'),
(N'Providence',N'Rhode Island'),
(N'Garden Grove',N'California'),
(N'Chattanooga',N'Tennessee'),
(N'Oceanside',N'California'),
(N'Jackson',N'Mississippi'),
(N'Fort Lauderdale',N'Florida'),
(N'Santa Rosa',N'California'),
(N'Rancho Cucamonga',N'California'),
(N'Port St. Lucie',N'Florida'),
(N'Tempe',N'Arizona'),
(N'Ontario',N'California'),
(N'Vancouver',N'Washington'),
(N'Cape Coral',N'Florida'),
(N'Sioux Falls',N'South Dakota'),
(N'Springfield',N'Missouri'),
(N'Peoria',N'Arizona'),
(N'Pembroke Pines',N'Florida'),
(N'Elk Grove',N'California'),
(N'Salem',N'Oregon'),
(N'Lancaster',N'California'),
(N'Corona',N'California'),
(N'Eugene',N'Oregon'),
(N'Palmdale',N'California'),
(N'Salinas',N'California'),
(N'Springfield',N'Massachusetts'),
(N'Pasadena',N'Texas'),
(N'Fort Collins',N'Colorado'),
(N'Hayward',N'California'),
(N'Pomona',N'California'),
(N'Cary',N'North Carolina'),
(N'Rockford',N'Illinois'),
(N'Alexandria',N'Virginia'),
(N'Escondido',N'California'),
(N'McKinney',N'Texas'),
(N'Kansas City',N'Kansas'),
(N'Joliet',N'Illinois'),
(N'Sunnyvale',N'California'),
(N'Torrance',N'California'),
(N'Bridgeport',N'Connecticut'),
(N'Lakewood',N'Colorado'),
(N'Hollywood',N'Florida'),
(N'Paterson',N'New Jersey'),
(N'Naperville',N'Illinois'),
(N'Syracuse',N'New York'),
(N'Mesquite',N'Texas'),
(N'Dayton',N'Ohio'),
(N'Savannah',N'Georgia'),
(N'Clarksville',N'Tennessee'),
(N'Orange',N'California'),
(N'Pasadena',N'California'),
(N'Fullerton',N'California'),
(N'Killeen',N'Texas'),
(N'Frisco',N'Texas'),
(N'Hampton',N'Virginia'),
(N'McAllen',N'Texas'),
(N'Warren',N'Michigan'),
(N'Bellevue',N'Washington'),
(N'West Valley City',N'Utah'),
(N'Columbia',N'South Carolina'),
(N'Olathe',N'Kansas'),
(N'Sterling Heights',N'Michigan'),
(N'New Haven',N'Connecticut'),
(N'Miramar',N'Florida'),
(N'Waco',N'Texas'),
(N'Thousand Oaks',N'California'),
(N'Cedar Rapids',N'Iowa'),
(N'Charleston',N'South Carolina'),
(N'Visalia',N'California'),
(N'Topeka',N'Kansas'),
(N'Elizabeth',N'New Jersey'),
(N'Gainesville',N'Florida'),
(N'Thornton',N'Colorado'),
(N'Roseville',N'California'),
(N'Carrollton',N'Texas'),
(N'Coral Springs',N'Florida'),
(N'Stamford',N'Connecticut'),
(N'Simi Valley',N'California'),
(N'Concord',N'California'),
(N'Hartford',N'Connecticut'),
(N'Kent',N'Washington'),
(N'Lafayette',N'Louisiana'),
(N'Midland',N'Texas'),
(N'Surprise',N'Arizona'),
(N'Denton',N'Texas'),
(N'Victorville',N'California'),
(N'Evansville',N'Indiana'),
(N'Santa Clara',N'California'),
(N'Abilene',N'Texas'),
(N'Athens',N'Georgia'),
(N'Vallejo',N'California'),
(N'Allentown',N'Pennsylvania'),
(N'Norman',N'Oklahoma'),
(N'Beaumont',N'Texas'),
(N'Independence',N'Missouri'),
(N'Murfreesboro',N'Tennessee'),
(N'Ann Arbor',N'Michigan'),
(N'Springfield',N'Illinois'),
(N'Berkeley',N'California'),
(N'Peoria',N'Illinois'),
(N'Provo',N'Utah'),
(N'El Monte',N'California'),
(N'Columbia',N'Missouri'),
(N'Lansing',N'Michigan'),
(N'Fargo',N'North Dakota'),
(N'Downey',N'California'),
(N'Costa Mesa',N'California'),
(N'Wilmington',N'North Carolina'),
(N'Arvada',N'Colorado'),
(N'Inglewood',N'California'),
(N'Miami Gardens',N'Florida'),
(N'Carlsbad',N'California'),
(N'Westminster',N'Colorado'),
(N'Rochester',N'Minnesota'),
(N'Odessa',N'Texas'),
(N'Manchester',N'New Hampshire'),
(N'Elgin',N'Illinois'),
(N'West Jordan',N'Utah'),
(N'Round Rock',N'Texas'),
(N'Clearwater',N'Florida'),
(N'Waterbury',N'Connecticut'),
(N'Gresham',N'Oregon'),
(N'Fairfield',N'California'),
(N'Billings',N'Montana'),
(N'Lowell',N'Massachusetts'),
(N'Ventura',N'California'),
(N'Pueblo',N'Colorado'),
(N'High Point',N'North Carolina'),
(N'West Covina',N'California'),
(N'Richmond',N'California'),
(N'Murrieta',N'California'),
(N'Cambridge',N'Massachusetts'),
(N'Antioch',N'California'),
(N'Temecula',N'California'),
(N'Norwalk',N'California'),
(N'Centennial',N'Colorado'),
(N'Everett',N'Washington'),
(N'Palm Bay',N'Florida'),
(N'Wichita Falls',N'Texas'),
(N'Green Bay',N'Wisconsin'),
(N'Daly City',N'California'),
(N'Burbank',N'California'),
(N'Richardson',N'Texas'),
(N'Pompano Beach',N'Florida'),
(N'North Charleston',N'South Carolina'),
(N'Broken Arrow',N'Oklahoma'),
(N'Boulder',N'Colorado'),
(N'West Palm Beach',N'Florida'),
(N'Santa Maria',N'California'),
(N'El Cajon',N'California'),
(N'Davenport',N'Iowa'),
(N'Rialto',N'California'),
(N'Edison',N'New Jersey'),
(N'Las Cruces',N'New Mexico'),
(N'San Mateo',N'California'),
(N'Lewisville',N'Texas'),
(N'South Bend',N'Indiana'),
(N'Lakeland',N'Florida'),
(N'Erie',N'Pennsylvania'),
(N'Woodbridge',N'New Jersey'),
(N'Tyler',N'Texas'),
(N'Pearland',N'Texas'),
(N'College Station',N'Texas');

GO

INSERT INTO [dbo].[Truck] VALUES
(N'MAN',N'1ABC234',2010,18500,22,100),
(N'DAF',N'1ABC235',2009,15000,20,90),
(N'MERCEDES BENZ',N'1ABC236',2013,15000,18,100),
(N'Foton',N'1ABC237',2011,9000,18,30),
(N'DAF',N'1ABC238',2009,26000,20,70),
(N'DAF',N'1ABC239',2011,12000,20,70),
(N'DAF',N'1ABC240',2014,12000,20,70),
(N'DAF',N'1ABC241',2011,9000,18,50),
(N'DAF',N'1ABC242',2011,9000,18,50),
(N'Ford',N'1ABC243',2011,9000,18,50),
(N'MAN',N'1ABC244',2013,9000,18,50),
(N'MAN',N'1ABC245',2012,5000,18,50),
(N'MAN',N'1ABC246',2011,18500,20,50),
(N'MAN',N'1ABC247',2011,26000,18,50),
(N'MAN',N'1ABC248',2011,20000,18,50);

GO

INSERT INTO [dbo].[Driver] VALUES
('John','Doe','1967-01-23 00:00:00'),
('Adam','Petr','1975-05-23 00:00:00'),
('Jin ','Partida','1980-03-15 00:00:00'),
('Scott','Lucas','1985-04-01 00:00:00'),
('Alta','Olson','1975-06-14 00:00:00'),
('Arthur','Sullivan','1982-04-26 00:00:00'),
('Robert','Suarez','1975-04-11 00:00:00'),
('Timothy ','Johns','1985-10-07 00:00:00'),
('Olive ','Tucker','1986-12-25 00:00:00'),
('Lela','Coleman','1977-04-20 00:00:00'),
('Maurice','Elam','1981-04-02 00:00:00'),
('Charles ','Delacruz','1975-01-18 00:00:00'),
('Branden ','Webster','1964-07-03 00:00:00'),
('Bennie ','Morley','1986-12-25 00:00:00'),
('Jacob','Sanders','1936-04-20 00:00:00'),
('Perry ','Haley','1982-04-26 00:00:00'),
('Emma ','White','1955-04-03 00:00:00'),
('Bryan ','Baldridge','1952-04-16 00:00:00'),
('Tom','Stennis','1985-01-27 00:00:00'),
('Mike','O''Connor','1977-12-20 00:00:00');

GO

INSERT INTO [dbo].[DriverTruck] VALUES
(1,1),
(1,2),
(2,3),
(3,1),
(4,4),
(5,6),
(6,5),
(7,7),
(7,20),
(8,8),
(9,9),
(9,8),
(10,10),
(11,10),
(12,11),
(13,12),
(13,13),
(13,14),
(14,15),
(14,16),
(15,17),
(15,18),
(15,19);

GO

INSERT INTO [dbo].[Contact] VALUES
(N'Mykyta',N'Sokurenko', N'093333333'),
(N'Kyrylo',N'Pryhodko', N'0944444444')

GO

/* create routes*/
DECLARE @minDistance INT = 100;
DECLARE @maxDistance INT = 3000;

INSERT INTO [dbo].[Route](
	[OriginalWarehouseId],
	[DestinationWarehouseId],
	[Distance]
)
SELECT DISTINCT
    [origin].[WarehouseId],
    [destination].[WarehouseId],
	FLOOR(RAND(CHECKSUM(NEWID()))*(@maxDistance - @minDistance) + @minDistance)
FROM 
    [dbo].[Warehouse] AS [origin]
CROSS JOIN
    [dbo].[Warehouse] AS [destination]
WHERE [origin].[WarehouseId] != [destination].[WarehouseId];

GO

/*create shipments*/

DECLARE @currentRow INT = 0;
DECLARE @shipmentsToInsert INT = 1000;
DECLARE @routeCount INT;
DECLARE @truckCount INT;

SELECT @routeCount = COUNT(*)
FROM [dbo].[Route];

SELECT @truckCount = COUNT(*)
FROM [dbo].[Truck];

WHILE @currentRow < @shipmentsToInsert
BEGIN
	DECLARE @truckId INT = ROUND(((@truckCount - 1) * RAND() + 1), 0);
	DECLARE @driverId INT;
	DECLARE @dateFrom AS DATETIME = '1996-03-07';
	DECLARE @dateTo AS DATETIME = '2021-04-26';
	DECLARE @departureDate DATETIME = DATEADD(DAY,ABS(CHECKSUM(NEWID())) % ( 1 + DATEDIFF(DAY,@dateFrom,@dateTo)),@dateFrom)
	DECLARE @deliveryDate DATETIME = DATEADD(DAY,ABS(CHECKSUM(NEWID())) % ( 1 + DATEDIFF(DAY,@departureDate,@dateTo)),@departureDate)

	SELECT TOP 1 @driverId = DriverId
	FROM [dbo].[DriverTruck]
	WHERE TruckId = @truckId
	ORDER BY NEWID();

	INSERT INTO [dbo].[Shipment](
		[RouteId],
		[DriverId],
		[TruckId],
		[DepartureDate],
		[DeliveryDate]
	)
	VALUES(
		ROUND(((@routeCount - 1) * RAND() + 1), 0),
		@driverId,
		@truckId,
		@departureDate,
		@deliveryDate
	)

	SET @currentRow = @currentRow + 1;
END

GO

/*create cargoes*/

DECLARE @currentRow INT = 0;
DECLARE @contactCount INT;
DECLARE @cargosToInsert INT = 10000;
DECLARE @shipmentsToInsert INT = 1000;
DECLARE @minVolume INT = 1;
DECLARE @maxVolume INT = 50;
DECLARE @minWeight INT = 1;
DECLARE @maxWeight INT = 5000;

SELECT @contactCount = COUNT(*)
FROM [dbo].[Contact];

WHILE @currentRow < @cargosToInsert
BEGIN
	INSERT INTO dbo.Cargo(
		[Weight],
		[Volume],
		[SenderId],
		[RecipientId],
		[ShipmentId]
	)
	VALUES(
		FLOOR(RAND()*(@maxWeight - @minWeight) + @minWeight),
		FLOOR(RAND()*(@maxVolume - @minVolume) + @minVolume),
		ROUND(((@contactCount - 1) * RAND() + 1), 0),
		ROUND(((@contactCount - 1) * RAND() + 1), 0),
		FLOOR(RAND()*(@shipmentsToInsert - 1) + 1)
	)

	SET @currentRow = @currentRow + 1;
END

GO